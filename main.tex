\documentclass[A4paper, 12pt, british, reqno]{amsart}

\input{preamble} % Content described in README.md

% Math operators
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Sym}{Sym}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\Proj}{Proj}
\DeclareMathOperator{\Pic}{Pic}
\DeclareMathOperator{\rk}{rk}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\ad}{ad}
\DeclareMathOperator{\GL}{GL}
\let\div\relax
\DeclareMathOperator{\div}{div}
\DeclareMathOperator{\SO}{SO}
\let\hom\relax
\DeclareMathOperator{\hom}{hom}
\let\Im\relax
\DeclareMathOperator{\Im}{Im}
\DeclareMathOperator{\Ker}{Ker}

% Other commands
\newcommand{\ot}{\otimes}
\newcommand{\op}{\oplus}
\newcommand{\dual}{^{*}}
\newcommand{\act}{\rotatebox[origin=c]{-120}{$\circlearrowright$}}
\newcommand{\Diff}{\mathbf{Diff}}
\newcommand{\Grp}{\mathbf{Grp}}

\begin{document}

\maketitle

\begin{abstract}
    In this talk we introduce the stability condition for Higgs bundles and prove the Hitchin--Kobayashi correspondence.
    The main result is \cite[Theorem 4.3]{hit87a}.
    Relevant literature is \cite[\S 3 and \S 4]{hit87a} and \cite[\S 2 and \S 3]{wen14}.
    Maybe we will also use \cite{wen16} every now and then.

    This talk is related to Tanuj's talk on \textit{Stable vector bundles}, for which the main reference is \cite{kob87}.
    Therefore we will also use \cite{kob87} as a default reference for generalities on complex vector bundles.
\end{abstract}

\tableofcontents

\section*{Notation and conventions}

We usually follow the notation of \cite{hit87a}:
\begin{itemize}
    \item $M$: compact Riemann surface of genus $g$.
    \item $O\to M$: trivial line bundle.
    \item $K\to M$: canonical line bundle.
    \item More generally, $O_{X}$ and $K_{X}$ denote the trivial and canonical line bundles over a complex manifold $X$.
\end{itemize}
Every now and then we will also use some other standard notation, for instance:
\begin{itemize}
    \item For a vector bundle $E\to M$ we denote $\mu(E):=\deg{E}/\rk{E}$.
    \item Let $X$ be a complex manifold and $E\to X$ a (holomorphic/algebraic) vector bundle.
	Then we denote by $\E$ its sheaf of sections.
	The assignement $E\mapsto \E$ defines an equivalence of categories between vector bundles on $X$ and locally free sheaves of $\O_{X}$-modules of finite rank, which we will refer to simply as locally free sheaves.
	We can recover $E$ from $\E$ either using cocycles \cite[Lemma 4.8]{voi02} or by using the relative spectrum \cite[Exercise II.5.18]{har77}.
	Following the second approach we would write
	\[ E=\Spec_{X}(S(\E\dual))=:\V(\E\dual), \]
	where $S(-)$ denotes the symmetric algebra.
    \item $\O$ and $\w$ denote the trivial and canonical invertible sheaves on $M$.
	More generally, $\O_{X}$ and $\w_{X}$ denote the trivial and canonical invertible sheaves on a complex manifold $X$,
    \item Let $E$ be again a vector bundle on a complex manifold $X$.
	We will denote its projectivisation by $\P(E)$, which is obtained form $E$ without its zero section by quotienting out the fibre-wise multiplication by scalars.
	Taking again the algebraic approach we can write
	\[ \P(E)=\Proj_{X}(S(\E\dual))=:\P(\E\dual). \]
\end{itemize}

\section{Stability}

%[explain that the self-duality equations were originally talking about some principal $G$-bundle on space time $\R^{4}$, but after a series of simplifications \cite[\S 1]{hit87a} we ended up talking about rank 2 complex vector bundles on a compact Riemann surface]

%[picture of moduli space of holomorphic rank 2 vector bundles]
%
%[Upshot: a rank 2 holomorphic vector bundle doesn't quite determine a solution to the self-duality equation, but almost! Vector bundle + tangent vector in its moduli space does.]
%
%[Use fact from moduli space + Serre duality to translate this tangent vector into a Higgs field]
%
%From now on let $M$ be a compcat Riemann surface (of genus $g\geqslant 2$) and $K\to M$ its canonical line bundle.

\begin{defn}[Higgs bundle]
    A \textit{Higgs bundle} on $M$ is a pair $(E,\Phi)$, where $E\to M$ is a rank $2$ vector bundle and $\Phi$ is a global section of $\End{E}\ot K$, called a \textit{Higgs field} on $E$.
\end{defn}

\begin{rem}
    Using the canonical isomorphisms
    \[ H^{0}(M,\sEnd(\E)\ot \w)\cong \Hom(\O,\E\dual \ot \E\ot \w)\cong \Hom(\E,\E\ot \w) \]
    we may identify $\Phi$ with a morphism
    \[ \Phi\colon E\to E\ot K. \]
\end{rem}

%\begin{rem}
%    We are mainly interested in the subbundle of traceless endomorphisms, denoted $\End_{0}{V}$.
%\end{rem}

%\begin{exa}
%    Assume $g\geqslant 2$.
%    Then $\deg{K}=2g-2>0$, so we can find a line bundle $K^{\frac{1}{2}}$ such that $K^{\frac{1}{2}}\ot K^{\frac{1}{2}}\cong K$.
%    Let $E=K^{\frac{1}{2}}\op K^{-\frac{1}{2}}$, where $K^{-\frac{1}{2}}=(K^{\frac{1}{2}})^{-1}$.
%    We consider the Higgs field $\Phi_{w}\colon K^{\frac{1}{2}}\op K^{-\frac{1}{2}}\to (K^{\frac{1}{2}}\op K^{-\frac{1}{2}})\ot K$ given by a matrix
%    \[
%	\begin{pmatrix}
%	    0 & w \\
%	    1 & 0
%	\end{pmatrix},
%    \]
%    where $w\in \Hom(K^{-\frac{1}{2}},K^{\frac{1}{2}}\ot K)\cong H^{0}(M,K^{2})$ can be regarded as a quadratic differential.
%\end{exa}

\begin{defn}[Stability]
A Higgs bundle $(E,\Phi)$ is said to be \textit{stable} if for every $\Phi$-invariant\footnote{Meaning that $\Phi(L)\subseteq L\ot K$.} line bundle $L\subseteq E$ we have $\mu(L)<\mu(E)$.
\end{defn}

\begin{rem}
    $(E,0)$ is stable if and only if $E$ is stable in the usual sense.
\end{rem}

\begin{exe}
    There are no stable Higgs bundles on $\P^{1}$.
    [Hint: Grothedieck's theorem allows us to write $\Phi$ as a matrix.
    What can we say about each entry?
    Solution in \cite{hit87a}]
\end{exe}

%\begin{exa}
%    Assume $g\geqslant 2$ and consier $E=K^{\frac{1}{2}}\op K^{-\frac{1}{2}}$ again.
%    Then $\Phi_{0}$ is stable, because $K^{-\frac{1}{2}}$ is the only $\Phi_{0}$-invariant line bundle and
%    \[ \deg{K^{-\frac{1}{2}}}=1-g<0=\frac{\deg{E}}{2}. \]
%\end{exa}

\begin{prop}
    Let $(E_{1},\Phi_{1})$ and $(E_{2},\Phi_{2})$ be stable pairs with $\Lambda^{2}E_{1}\cong \Lambda^{2}E_{2}$.
    Let $\Psi\colon E_{1}\to E_{2}$ be a non-zero morphism of constant rank such that $(\Psi\ot \id_{K}) \circ \Phi_{1}=\Phi_{2}\circ \Psi$.
    Then $\Psi$ is an isomorphism.
    \begin{proof}
	We prove the result by contradiction.
	Suppose that $\Psi$ is not an isomorphism.
	The rank $x\mapsto \dim_{\C}\Psi_{x}(E_{1,x})$ is upper semi-continuous \cite[Proposition 1.3.2]{ati89}, so the rank of $\Psi$ cannot be generically zero.
	If the rank was generically $2$, then $\Psi$ would be generically an isomorphism.
	Taking determinants we obtain a morphism of line bundles
	\[ \Lambda^{2}E_{1}\xrightarrow{\Psi\wedge \Psi} \Lambda^{2}E_{2} \]
	which is generically an isomorphism.
	Since the two determinants are isomorphic by assumbtion, we have $\Hom(\Lambda^{2}E_{1},\Lambda^{2}E_{2})\cong \C$, hence the previous morphism must be given by a non-zero complex number.
	This shows that $\Psi$ was in fact an isomorphism, because $\Psi_{x}$ takes pairs of linearly independent vectors to pairs of linearly independent vectors for all $x\in M$.
	Therefore the rank is generically $1$, only going down to $0$ at special points.

	Let $L_{1}\subseteq E_{1}$ be the largest rank $1$ subbundle of $E_{1}$ contained in the kernel of $\Psi$.
	Let $v_{1}\in L_{1,x}$, and let $z$ be a holomorphic coordinate around a general point $x\in M$.
	Then we can write $\Phi_{1}(v_{1})=\phi_{1,x}(v_{1})\ot dz$ for some $\phi_{1,x}\in \End(E_{1,x})$.
	Then
	\[ 0=\Phi_{2,x}(\Psi_{x}(v_{1}))=(\Psi\ot \id_{K})_{x}(\phi_{1,x}(v_{1})\ot dz)=\Psi_{x}(\phi_{1,x}(v_{1}))\ot dz, \]
	so $\phi_{1,x}(v_{1})\in \Ker(\Psi_{x})=L_{1,x}$.
	Since it suffices to check $\Phi_{1}(L_{1})\subseteq L_{1}\ot K$ generically, this shows that $L_{1}$ is $\Phi_{1}$-invariant.

	Let now $L_{2}\subseteq E_{2}$ be the largest rank $1$ subbundle of $E_{2}$ containing the image of $\Psi$.
	Let $v_{2}=\Psi(v_{1})\in L_{2,x}$ be a vector over a general point $x\in M$, which can thus be written as the image under $\Psi$ of someone in $E_{1}$.
	Then
	\[ \Phi_{2,x}(\Psi_{x}(v_{1}))=(\Psi\ot \id_{K})_{x}(\phi_{1,x}(v_{1})\ot dz)=\Psi_{x}(\phi_{1,x}(v_{1}))\ot dz, \]
	so $\phi_{2,x}(v_{2})\in \Im(\Psi_{x})=L_{2,x}$.
	Since it suffices to check $\Phi_{2}(L_{2})\subseteq L_{2}\ot K$ generically, this shows that $L_{2}$ is $\Phi_{2}$-invariant.

	Now we use that $(E_{i},\Phi_{i})$ are stable to deduce that
	\[ \deg(L_{i})<\frac{d}{2} \]
	for $i\in \{1,2\}$, where $d:=\deg(\Lambda^{2}E_{1})=\deg(\Lambda^{2}E_{2})$.
	By construction, $\Psi$ induces a non-zero morphism of line bundles $E_{1}/L_{1}\to L_{2}$, which corresponds to a non-zero global section of $(E_{1}/L_{1})\dual\ot L_{2}$.
	Line bundles with negative degree do not have any non-zero global sections, so we must have $\deg(E_{1}/L_{1})\leqslant \deg(L_{2})$.
	Therefore
	\[ \frac{d}{2}<\deg(\Lambda^{2}E_{1})-\deg(L_{1})=\deg(E_{1}/L_{1})\leqslant \deg(L_{2})<\frac{d}{2}, \]
	a contradiction.
	Hence $\Psi$ must be an isomorphism.
    \end{proof}
\end{prop}

\begin{prop}
    Assume $g\geqslant 2$ and let $E\to M$ be a rank $2$ vector bundle.
    Then there exists Higgs field $\Phi$ on $E$ such that $(E,\Phi)$ is stable if and only if there exists a dense Zariski open subset $U\subseteq H^{0}(M,\sEnd(\E)\ot \w)$ such that all $\Phi'\in U$ have the property that no line bundle $L\subseteq E$ is $\Phi'$-invariant.
    \begin{proof}
	We define the following sets of rank $2$ vector bundles on $M$:
	\begin{itemize}
	    \item $\bfS:=\{ E\in \Vec_{2}(M)\mid \exists \Phi \text{ such that }(E,\Phi)\text{ is stable}\}$.
	    \item $\bfA:=\{ E\in \Vec_{2}(M)\mid \text{a general }\Phi\text{ has no invariant }L \}$.
	    \item $\bfB:=\{ E\in \Vec_{2}(M)\mid \exists L\text{ invariant for all }\Phi\}$.
	\end{itemize}

	Our goal is to show that $\bfS=\bfA$.
	If $\Phi$ has no invariant $L$, then $(E,\Phi)$ is automatically stable.
	Hence $\bfA\subseteq \bfS$.
	The plan to show the other inclusion is to see that $\Vec_{2}(M)=\bfA\sqcup \bfB$ and that $\bfB\subseteq \Vec_{2}(M)\setminus \bfS$.
	
	Let us start by showing that $\Vec_{2}(M)=\bfA\sqcup \bfB$.

	Let $p\colon \P(E)\to M$ be the projectivisation of our rank 2 vector bundle, which is a ruled surface in the sense of \cite[\S V.2]{har77}.
	Let $O(-1)$ denote the tautological line bundle on $\P(E)$, whose fibre over $[v]\in \P(E)$ is the line $\{\lambda v \mid \lambda\in \C\}\subseteq E_{p([v])}$.
	Let $O(l):=O(1)^{\ot l}$ for all $l\in \Z$, and if $F\to \P(E)$ is another vector bundle, denote by $F(l)$ the tensor product $F\ot O(l)$.
	We have then $p_{*}\O(l)=S^{l}(\E\dual)$ for all $l\geqslant 0$ \cite[Exercise III.8.4]{har77}.

	Let $x\in M$.
	Then every endomorphism $A\in \End(E_{x})$ defines a quadratic map $E_{x}\to \Lambda^{2}E_{x}$ sending $v$ to $Av\wedge v$.
	Such a quadratic map can be naturally regarded as a degree $2$ homogeneous polynomial on the coordinates of $e$ with coefficients in $\Lambda^{2}E_{x}$.
	Hence we have a morphism $\End(E)\to S^{2}E\dual \ot \Lambda^{2}E$, which vanishes precisely along the trivial line subbundle of $\End(E)$ consisting over each fibre of scalar multiples of the identity.
	Sending $A\mapsto A-\frac{\operatorname{tr}(A)}{2}\id_{E_{x}}$ on each fibre allows us to identify $\End_{0}(E)$ as the quotient of $\End(E)$ by this trivial line subbundle, so we obtain an injective morphism $\End_{0}(E)\to S^{2}E\dual \ot \Lambda^{2}E$.
	Counting ranks we see that we have in fact an isomorphism $\End_{0}(E)\cong S^{2}E\dual \ot \Lambda^{2}E$, and therefore
	\[ \sEnd_{0}(\E)\ot \w\cong p_{*}\O(2)\ot \w\ot \Lambda^{2}\E. \]
	By the projection formula, $\sEnd_{0}(\E)\ot \w\cong p_{*}(p^{*}(\w\ot \Lambda^{2}\E)(2))$.
	Therefore we have an isomorphism
	\[ \alpha \colon H^{0}(M,\sEnd_{0}(\E)\ot \w)\cong H^{0}(\P(E),p^{*}(\w\ot \Lambda^{2}\E)(2)). \]

	Let now $\Phi$ be a traceless Higgs field on $E$, and assume it is non-zero.
	By construction, a non-zero vector $v\in E$ is an eigenvector of the twisted endomorphism over the corresponding fibre if and only if the section $\alpha(\Phi)$ vanishes at the point $[v]\in \P(E)$, i.e.~if and only if $[v]$ is in the divisor of zeros of the global section $\alpha(\Phi)$, which we denote $\div(\alpha(\Phi))$.
	Let $L\subseteq E$ be a $\Phi$-invariant subbundle, which defines a section of $p\colon \P(E)\to M$ by functoriality of projectivisation on injective morphisms of vector bundles:
	\begin{center}
	    \begin{tikzcd}
		\P(L)\arrow[equal]{d}\arrow{r}{\sigma} & \P(E)\arrow{dl}{p} \\
		M &
	    \end{tikzcd}
	\end{center}
	Being $\Phi$-invariant means precisely that $\sigma(M)\subseteq \div(s(\Phi))$.
	But then any non-zero $v\in L$ is a non-zero eigenvector corresponding to some eigenvalue of the endomorphism over the corresponding fibre.
	Since $\Phi$ is traceless and non-zero, the other eigenvalue must be different, and there must be some non-zero eigenvector outside of $L$, call it $v'\in V$.
	Since $v'$ is a non-zero eigenvector, $[v']\in \div(\alpha(\Phi))$.
	And since $v'\not\in L$, $[v']\not\in \sigma(M)$.
	Therefore $\sigma(M)$ is a proper irreducible component of the divisor $\div(\alpha(\Phi))$.
	So if $\div(\alpha(\Phi))$ is irreducible, then no line bundle $L\subseteq V$ is $\Phi$-invariant and $(E,\Phi)$ is automatically stable.


	Next we give a lower bound for the dimension of the linear system $|p^{*}(\w\ot\Lambda^{2}\E)(2)|$, which is one less than the dimension of the vector space $H^{0}(\P(E),p^{*}(\w\ot\Lambda^{2}\E)(2))$.
	Using the previous isomorphism it suffices to gain control over the dimension of the global sections of $\sEnd_{0}(\E)\ot \w$ on $M$, for which we can apply Hirzebruch--Riemann--Roch \cite[Theorem A.4.1]{har77}.
	From \cite[Example A.4.1.1]{har77} we get
	\[ \operatorname{td}(\w\dual)=1-\frac{c_{1}(\w)}{2}. \]
	Using the short exact sequence used earlier
	\[ 0\to \O\to \sEnd(\E) \to \sEnd_{0}(\E)\to 0 \]
	we see that $c_{1}(\sEnd_{0}(\E))=c_{1}(\sEnd{\E})=0$.
	Therefore
	\[ \operatorname{ch}(\sEnd_{0}(\E)\ot \w)=3+c_{1}(\sEnd_{0}(\E))+3c_{1}(\w)=3+3c_{1}(\w). \]
	Multiplying the two expressions we obtain
	\[ \operatorname{ch}(\sEnd_{0}(\E)\ot \w)\operatorname{td}(\w\dual)=3+\frac{3}{2}c_{1}(\w), \]
	whose codimension $1$ part has degree $3g-3\geqslant 3$.
	So Hirzebruch--Riemann--Roch tells us that
	\[ h^{0}(M,\sEnd_{0}(\E)\ot \w)-h^{1}(M,\sEnd_{0}(\E)\ot \w)=3g-3\geqslant 3, \]
	which implies that $h^{0}(\P(E),p^{*}(\w\ot \Lambda^{2}\E)(2))=h^{0}(M,\sEnd_{0}(\E)\ot \w)\geqslant 3$.

	Thus, our linear system $|p^{*}(\w\ot \Lambda^{2}\E)(2)|$ has dimension $2$.
	If it does not have any fixed component, then Bertini's theorem \cite[Theorem 7.19]{iit82} and the discussion above imply that a general $\Phi\in H^{0}(M,\sEnd_{0}(\E)\ot \w)$ leaves no line bundle $L\subseteq E$ invariant, i.e.~$E\in \bfA$.

	Let us see what happens if it does have some fixed divisor.
	By definition, a fixed divisor corresponds to a non-zero global section $s_{0}\in H^{0}(\P(E),\M_{1})$ for some invertible sheaf $\M_{1}$ such that there exists another invertible sheaf $\M_{2}$ with $\M_{1}\ot \M_{2}\cong p^{*}(\w\ot\Lambda^{2}\E)(2)$.
	Being a fixed divisor translates into saying that every global section $s\in H^{0}(\P(E),p^{*}(\w\ot \Lambda^{2}\E)(2))$ can be written as $ts_{0}$ for some $t\in H^{0}(\P(E),\M_{2})$.
	In particular, both $H^{0}(\P(E),\M_{1})$ and $H^{0}(\P(E),\M_{2})$ have to be non-zero.
	By \cite[Exercise II.7.4]{har77} we can write $\M_{i}\cong p^{*}\L_{i}(l_{i})$ with $l_{1}+l_{2}=2$.
	In fact, we must have $0\leqslant l_{i}\leqslant 2$, because using again the projection formula we have
	\[ H^{0}(\P(E),p^{*}\L_{i}(l_{i}))\cong H^{0}(M,\L_{i}\ot p_{*}\O(l_{i})) \]
	and $p_{*}\O(l)=0$ for all $l<0$ \cite[Exercise III.8.4]{har77}.
	So we only have the following three possibilities:
	\begin{enumerate}[label=\alph*)]
	    \item $l_{1}=0$;
	    \item $l_{1}=1$;
	    \item $l_{1}=2$.
	\end{enumerate}
	Let us start with case $a)$.
	Let $p^{*}s\in H^{0}(\P(E),p^{*}\L)\cong H^{0}(M,\L)$ be a global section corresponding to the fixed component of our linear system.
	Dividing all global sections by $s$ and by $p^{*}s$ respectively we obtain the following commutative diagram:
	\begin{center}
	    \begin{tikzcd}
		H^{0}(M,\sEnd_{0}(\E)\ot \w)\arrow{r}{\cong}\arrow[swap]{d}{/s}[swap]{\cong} & H^{0}(\P(E),p^{*}(\w\ot \Lambda^{2}\E)(2))\arrow{d}{\cong}[swap]{/p^{*}s} \\
		H^{0}(M,\sEnd_{0}(\E)\ot \w\ot \L\dual)\arrow{r}{\cong} & H^{0}(\P(E),p^{*}(\L\dual \ot \w\ot \Lambda^{2}\E)(2))
	    \end{tikzcd}
	\end{center}
	By definition, the new linear system does not have any fixed divisors and has the same dimension.
	Hence we can apply Bertini to conclude that a generic $\Phi'\in H^{0}(M,\sEnd_{0}(\E)\ot \w\ot \L\dual)$ does not have invariant line bundles, which in this case are defined as line bundles $N\subseteq E$ such that $\Phi'(N)\subseteq N\ot K\ot L\dual$.
	But a line bundle $N\subseteq E$ is $\Phi'$-invariant if and only if it is $s\Phi'$-invariant, so we have $E\in \bfA$ in this case.

	We move on to case $b)$.
	Assume that the fixed divisor corresponds to a non-zero global section $s\in H^{0}(\P(E),p^{*}\L(1))$.
	This corresponds to a non-zero morphism $E\to L$.
	The fibre-wise kernel has then dimension $1$ generically and $2$ at special points by upper semi-continuity \cite[Proposition 1.3.2]{ati89}.
	Hence we can find a line bundle $N\subseteq \Ker(s)\subseteq E$, which can be described as the largest line subbundle of $E$ contained in the kernel of $s$.
	If $v\in N$ is a non-zero vector, then $s(v)=0$ and so $[v]\in \div(s)\subseteq \div(\alpha(\Phi))$.
	Thus the corresponding section $\sigma(M)\subseteq \P(E)$ is contained in $\div(\alpha(\Phi))$ for all $\Phi$ and $N$ is $\Phi$-invariant for all $\Phi$.

	In case $c)$, the fixed divisor corresponds to a non-zero global section of $p^{*}\L(2)$.
	We have
	\[ H^{0}(\P(E),p^{*}\L(2))\cong H^{0}(M,\L\ot S^{2}\E\dual)\cong H^{0}(M,\sEnd_{0}(\E)\ot \L\ot \Lambda^{2}\E\dual). \]
	So we can think of the fixed global section $s$ as a traceless endomorphism of $E$ with coefficients in $L\ot \Lambda^{2}E\dual$.
	With this point of view, $s$-invariance of a line bundle $N\subseteq E$ translates into $s\Phi'$-invariance of $N\subseteq E$ as before, where $s\Phi'$ is a Higgs field.
	Let us see that the fixed section $s$ has some non-trivial kernel, hence defining a line bundle invariant under all Higgs fields as in the previous case.
	To show that there is some non-trivial kernel, it suffices to check that $\det(s)=0$.
	Since $s$ is traceless, it suffices in turn to check that $\operatorname{tr}(s^{2})=0$.
	Suppose on the contrary that $\operatorname{tr}(s^{2})\neq 0$.
	Fix some non-zero $s_{1}\in H^{0}(M,\L\dual\ot \w\ot \Lambda^{2}\E)$ and consider the linear map
	\begin{align*}
	    \beta\colon H^{0}(M,\L\dual\ot\w\ot \Lambda^{2}\E) & \longrightarrow H^{0}(M,\w^{2}) \\
	    \Phi' & \longmapsto \operatorname{tr}(s^{2})s_{1}\Phi'
	\end{align*}
	Since $\operatorname{tr}(s^{2})s_{1}$ can only vanish at finitely many points, the image of a non-zero $\Phi'$ can only vanish at finitely many points, hence $\beta$ is injective.
	But from the previous Riemann--Roch computation we know that
	\[ h^{0}(M,\L\dual\ot\w\ot \Lambda^{2}\E)\geqslant 3g-3=h^{0}(M,\w^{2}), \]
	so we have a contradiction.
	This shows that $s$ has non-trivial kernel and thus defines a line bundle $N\subseteq E$ invariant by all $\Phi\in H^{0}(M,\sEnd_{0}(\E)\ot \w)$.

	This concludes the first part of the proof.
	We have shown that
	\[ \Vec_{2}(M)=\bfA\sqcup \bfB. \]

	The next step is to show that if $E\in \Vec_{2}(M)$ is stable, then it is in $\bfA$.
	By the previous step of the proof it suffices to show that it is not in $\bfB$.
	So let $E$ be a stable rank $2$ vector bundle on $M$ and assume $L\subseteq E$ is a line bundle which is $\Phi$-invariant for all $\Phi\in H^{0}(M,\sEnd_{0}(\E)\ot \w)$.
    \end{proof}
\end{prop}

\bibliographystyle{alpha}
\bibliography{main}
\vspace{0.3cm}

\end{document}
